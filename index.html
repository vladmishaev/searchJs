<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
			crossorigin="anonymous"
		/>
		<title>Demo SearchJs</title>
	</head>

	<style>
		.input-group-text {
			background-color: var(--bs-table-striped-bg);
		}

		tbody > tr:has([data-search-visible='false']) {
			display: none;
		}
	</style>
	<body>
		<table class="table table-dark table-striped">
			<thead>
				<tr>
					<th scope="col"></th>
					<th scope="col">
						<div class="input-group mb-3">
							<input
								data-search="name"
								type="text"
								class="form-control bg-dark text-white"
							/>
							<span class="input-group-text">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									width="16"
									height="16"
									fill="white"
									class="bi bi-search"
									viewBox="0 0 16 16"
								>
									<path
										d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
									/>
								</svg>
							</span>
						</div>
					</th>
					<th scope="col">
						<div class="input-group mb-3">
							<input
								data-search="surname"
								type="text"
								class="form-control bg-dark text-white"
							/>
							<span class="input-group-text"
								><svg
									xmlns="http://www.w3.org/2000/svg"
									width="16"
									height="16"
									fill="white"
									class="bi bi-search"
									viewBox="0 0 16 16"
								>
									<path
										d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
									/>
								</svg>
							</span>
						</div>
					</th>
					<th scope="col">
						<div class="input-group mb-3">
							<input
								data-search="appeal"
								type="text"
								class="form-control bg-dark text-white"
							/>
							<span class="input-group-text">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									width="16"
									height="16"
									fill="white"
									class="bi bi-search"
									viewBox="0 0 16 16"
								>
									<path
										d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
									/>
								</svg>
							</span>
						</div>
					</th>
				</tr>
				<tr>
					<th scope="col">#</th>
					<th scope="col">Имя</th>
					<th scope="col">Фамилия</th>
					<th scope="col">Обращение</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<th scope="row">1</th>
					<td data-search-item="name">Mark</td>
					<td data-search-item="surname">Otto</td>
					<td data-search-item="appeal">@mdo</td>
				</tr>
				<tr>
					<th scope="row">2</th>
					<td data-search-item="name">Jacob</td>
					<td data-search-item="surname">Thornton</td>
					<td data-search-item="appeal">@fat</td>
				</tr>
				<tr>
					<th scope="row">3</th>
					<td data-search-item="name">Larry</td>
					<td data-search-item="surname">Bird</td>
					<td data-search-item="appeal">@Twitter</td>
				</tr>
				<tr>
					<th scope="row">4</th>
					<td data-search-item="name">Suzanne</td>
					<td data-search-item="surname">Allen</td>
					<td data-search-item="appeal">@twitter</td>
				</tr>
				<tr>
					<th scope="row">5</th>
					<td data-search-item="name">Anna</td>
					<td data-search-item="surname">White</td>
					<td data-search-item="appeal">@onFoot</td>
				</tr>
				<tr>
					<th scope="row">6</th>
					<td data-search-item="name">William</td>
					<td data-search-item="surname">Rodriquez</td>
					<td data-search-item="appeal">@fat</td>
				</tr>
				<tr>
					<th scope="row">7</th>
					<td data-search-item="name">Jacob</td>
					<td data-search-item="surname">Rodriquez</td>
					<td data-search-item="appeal">@see</td>
				</tr>
				<tr>
					<th scope="row">8</th>
					<td data-search-item="name">Suzanne</td>
					<td data-search-item="surname">Rodriquez</td>
					<td data-search-item="appeal">@twitter</td>
				</tr>
				<tr>
					<th scope="row">9</th>
					<td data-search-item="name">Anna</td>
					<td data-search-item="surname">Allen</td>
					<td data-search-item="appeal">@bead</td>
				</tr>
				<tr>
					<th scope="row">10</th>
					<td data-search-item="name">Susan</td>
					<td data-search-item="surname">Hale</td>
					<td data-search-item="appeal">@mdo</td>
				</tr>
				<tr>
					<th scope="row">11</th>
					<td data-search-item="name">Stacey</td>
					<td data-search-item="surname">Allen</td>
					<td data-search-item="appeal">@See</td>
				</tr>
				<tr>
					<th scope="row">12</th>
					<td data-search-item="name">Roberta</td>
					<td data-search-item="surname">Smith</td>
					<td data-search-item="appeal">@OnFoot</td>
				</tr>
				<tr>
					<th scope="row">13</th>
					<td data-search-item="name">Susan</td>
					<td data-search-item="surname">White</td>
					<td data-search-item="appeal">@mdo</td>
				</tr>
				<tr>
					<th scope="row">14</th>
					<td data-search-item="name">Anna</td>
					<td data-search-item="surname">Hale</td>
					<td data-search-item="appeal">@OnFoot</td>
				</tr>
				<tr>
					<th scope="row">15</th>
					<td data-search-item="name">Mark</td>
					<td data-search-item="surname">Bird</td>
					<td data-search-item="appeal">@mdo</td>
				</tr>
			</tbody>
		</table>
	</body>

	<script src="index.js"></script>
	<script>
		const SEARCH_DATA = [
			{
				selectInput: '[data-search="name"]',
				selectItems: '[data-search-item="name"]',
				settings: {
					matchCase: false,
				},
			},
			{
				selectInput: '[data-search="surname"]',
				selectItems: '[data-search-item="surname"]',
				settings: {
					matchCase: false,
				},
			},
			{
				selectInput: '[data-search="appeal"]',
				selectItems: '[data-search-item="appeal"]',
				settings: {
					matchCase: true,
					charIgnore: ['@'],
				},
			},
		]

		SEARCH_DATA.forEach(dataObj => {
			const { selectInput, selectItems, settings } = dataObj

			const input = document.querySelector(selectInput)
			const items = document.querySelectorAll(selectItems)

			new SearchItems(input, items, settings)
		})
	</script>
</html>
